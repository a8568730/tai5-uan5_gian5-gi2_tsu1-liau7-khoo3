# 開發

## 試驗
### 全部走一擺
```bash
echo 'drop schema public cascade;create schema public;' | psql $USER
gzip -c -d 臺灣言語資料庫20150903.sql.gz | psql $USER
echo "from 臺灣言語服務.模型訓練 import 模型訓練; 模型訓練.走()" | python manage.py shell
```

### 個別試驗
```bash
python manage.py test -p 'test*單元試驗.py' # 走單元試驗
pip install tblib; python -m unittest --parallel # 同齊試驗
python -m unittest # 除錯方便
```

## 文件
先裝好`python-virtualenv`開發環境，閣來環境設定
```bash
pip install sphinx sphinx-autobuild recommonmark
npm i
```
裝起哩
```bash
npm run deploy
```

### 自頭開始
cd 文件
sphinx-quickstart # 建立一開始的專案
```
編譯
```bash
make html
```

## 資料、模型路徑
```text
資料/
├── 合成模型
│   └── 閩南語
│       └── Taiwanese.htsvoice
├── 翻譯模型
│   └── 閩南語
│       ├── model
│       │   ├── moses.ini
│       │   ├── phrase-table.gz
│       │   └── reordering-table.wbe-msd-bidirectional-fe.gz
│       ├── 母語辭典.txt.gz
│       └── 語言模型.lm
└── 翻譯語料
    └── 閩南語
        ├── 加工語料
        │   ├── 字詞文本.txt.gz
        │   ├── 對齊外語字詞.txt.gz
        │   ├── 對齊外語語句.txt.gz
        │   ├── 對齊母語字詞.txt.gz
        │   ├── 對齊母語語句.txt.gz
        │   └── 語句文本.txt.gz
        ├── 字詞文本.txt.gz
        ├── 對齊外語字詞.txt.gz
        ├── 對齊外語語句.txt.gz
        ├── 對齊母語字詞.txt.gz
        ├── 對齊母語語句.txt.gz
        ├── 語句文本.txt.gz
        └── 語言模型資料夾
            ├── 語言模型.lm
            └── 語言模型.txt
```

## 翻譯方法